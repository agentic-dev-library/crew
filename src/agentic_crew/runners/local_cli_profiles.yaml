# Local CLI Runner Profiles
# These profiles define how to invoke various single-agent coding tools via CLI.
# 
# To add a new profile:
# 1. Run `<tool> --help` to discover flags
# 2. Define the profile following the schema below
# 3. Test with: agentic-crew run --runner <profile> --input "test task"

# Schema for each profile:
# name: string              # Display name
# command: string           # Base command (can include subcommands)
# task_flag: string         # Flag for passing task (empty = positional)
# auth_env: string[]        # Environment variables for authentication
# auto_approve: string      # Flag to skip confirmations
# structured_output: string # Flag for JSON/structured output (optional)
# working_dir_flag: string  # Flag for working directory (optional)
# model_flag: string        # Flag for model selection (optional)
# additional_flags: string[]# Default flags to always include (optional)
# install_cmd: string       # How to install this tool
# docs_url: string          # Documentation URL

profiles:
  # ============================================
  # Aider - AI Pair Programming
  # https://aider.chat/
  # ============================================
  aider:
    name: "Aider"
    command: "aider"
    task_flag: "--message"
    auth_env:
      - "OPENAI_API_KEY"
      - "ANTHROPIC_API_KEY"
    auto_approve: "--yes-always"
    working_dir_flag: null  # Uses cwd
    model_flag: "--model"
    additional_flags:
      - "--no-git"  # Don't auto-commit (we handle that)
    install_cmd: "pipx install aider-chat"
    docs_url: "https://aider.chat/docs/usage.html"

  # ============================================
  # Claude Code - Anthropic's Coding Agent
  # https://docs.anthropic.com/claude-code
  # ============================================
  claude-code:
    name: "Claude Code"
    command: "claude"
    task_flag: "--print"
    auth_env:
      - "ANTHROPIC_API_KEY"
    auto_approve: "--dangerously-skip-permissions"
    structured_output: "--output-format json"
    working_dir_flag: null  # Uses cwd
    model_flag: "--model"
    additional_flags: []
    install_cmd: "npm install -g @anthropic-ai/claude-code"
    docs_url: "https://docs.anthropic.com/claude-code"

  # ============================================
  # OpenAI Codex CLI
  # https://github.com/openai/codex
  # ============================================
  codex:
    name: "OpenAI Codex"
    command: "codex"
    task_flag: ""  # Positional argument
    auth_env:
      - "OPENAI_API_KEY"
    auto_approve: "--approve-all"
    structured_output: "--json"
    working_dir_flag: "--cwd"
    model_flag: "--model"
    additional_flags: []
    install_cmd: "npm install -g @openai/codex"
    docs_url: "https://github.com/openai/codex"
    # NOTE: Verify flags - this is based on expected patterns

  # ============================================
  # Kiro CLI - AWS AI Coding Assistant
  # https://kiro.dev/ (or AWS docs)
  # ============================================
  kiro:
    name: "Kiro"
    command: "kiro"
    task_flag: "--task"  # Verify
    auth_env:
      - "AWS_ACCESS_KEY_ID"
      - "AWS_SECRET_ACCESS_KEY"
    auto_approve: "--yes"
    structured_output: "--format json"
    working_dir_flag: "--directory"
    model_flag: "--model"
    additional_flags: []
    install_cmd: "npm install -g @aws/kiro-cli"
    docs_url: "https://kiro.dev/docs"
    # NOTE: Verify flags - need to check actual Kiro CLI

  # ============================================
  # Ollama - Free Local LLMs
  # https://ollama.com/
  # ============================================
  ollama:
    name: "Ollama"
    command: "ollama run"
    task_flag: ""  # Model name then prompt as positional
    auth_env: []  # No auth needed (local)
    auto_approve: null  # Always auto (no confirmations)
    structured_output: "--format json"
    working_dir_flag: null
    model_flag: null  # Model is part of command: ollama run <model>
    default_model: "codellama"
    additional_flags: []
    install_cmd: "curl -fsSL https://ollama.com/install.sh | sh"
    docs_url: "https://ollama.com/"

  # ============================================
  # Goose - Block's AI Coding Agent
  # https://github.com/block/goose
  # ============================================
  goose:
    name: "Goose"
    command: "goose"
    task_flag: "--message"
    auth_env:
      - "OPENAI_API_KEY"
      - "ANTHROPIC_API_KEY"
    auto_approve: "--yes"
    structured_output: null
    working_dir_flag: "--directory"
    model_flag: "--model"
    additional_flags: []
    install_cmd: "pipx install goose-ai"
    docs_url: "https://github.com/block/goose"
    # NOTE: Verify flags

  # ============================================
  # Mentat - AI Coding Assistant
  # https://github.com/AbanteAI/mentat
  # ============================================
  mentat:
    name: "Mentat"
    command: "mentat"
    task_flag: "--prompt"
    auth_env:
      - "OPENAI_API_KEY"
    auto_approve: "--yes"
    structured_output: null
    working_dir_flag: null
    model_flag: "--model"
    additional_flags: []
    install_cmd: "pipx install mentat"
    docs_url: "https://github.com/AbanteAI/mentat"
    # NOTE: Verify flags

  # ============================================
  # Continue - VS Code AI Extension (CLI mode)
  # https://continue.dev/
  # ============================================
  continue:
    name: "Continue"
    command: "continue"
    task_flag: "--prompt"
    auth_env:
      - "OPENAI_API_KEY"
      - "ANTHROPIC_API_KEY"
    auto_approve: "--auto"
    structured_output: "--json"
    working_dir_flag: "--cwd"
    model_flag: "--model"
    additional_flags: []
    install_cmd: "npm install -g @continue/cli"
    docs_url: "https://continue.dev/docs"
    # NOTE: Continue may not have CLI - verify

# ============================================
# Custom Profile Template
# ============================================
# Copy this template to create your own profile:
#
# my-custom-tool:
#   name: "My Custom Tool"
#   command: "my-tool"
#   task_flag: "--task"
#   auth_env:
#     - "MY_TOOL_API_KEY"
#   auto_approve: "--yes"
#   structured_output: "--json"
#   working_dir_flag: "--dir"
#   model_flag: "--model"
#   additional_flags:
#     - "--verbose"
#   install_cmd: "pip install my-tool"
#   docs_url: "https://my-tool.dev/docs"
